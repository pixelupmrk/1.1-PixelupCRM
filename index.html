# Pacote PixelUp SuperApp + ChatBot Gemini

A estrutura terÃ¡ **dois arquivos principais**:

---

## 1. `index.html`
Frontend do SuperApp (CRM + Mentoria + ChatBot). Ele vai chamar o endpoint `/api/chat` do servidor.

```html
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PixelUp SuperApp</title>
</head>
<body>
  <h1>PixelUp SuperApp</h1>
  <p>CRM + Mentoria + ChatBot (Gemini)</p>

  <div>
    <h3>ChatBot</h3>
    <div id="msgs" style="border:1px solid #ccc; height:200px; overflow:auto; padding:6px"></div>
    <input id="chatInput" placeholder="Digite sua mensagem..." style="width:70%">
    <button id="btnSend">Enviar</button>
  </div>

  <script>
    const API_URL = "/api/chat"; // endpoint backend

    function addMsg(role, text){
      const box = document.getElementById("msgs");
      const div = document.createElement("div");
      div.textContent = role+": "+text;
      box.appendChild(div);
      box.scrollTop = box.scrollHeight;
    }

    document.getElementById("btnSend").onclick = async ()=>{
      const input = document.getElementById("chatInput");
      const text = input.value.trim();
      if(!text) return;
      addMsg("VocÃª", text);
      input.value="";

      try{
        const r = await fetch(API_URL, {
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body: JSON.stringify({ message:text })
        });
        const data = await r.json();
        addMsg("Bot", data.reply);
      }catch(err){
        addMsg("Bot", "Erro: "+err.message);
      }
    }
  </script>
</body>
</html>
```

---

## 2. `server.js`
Backend em Node.js com Express que chama o **Gemini 2.0 Flash**.

```js
import express from "express";
import cors from "cors";

const app = express();
app.use(cors());
app.use(express.json());

// SUA CHAVE AQUI (nunca expor no frontend)
const API_KEY = "SUA_CHAVE_DO_GOOGLE_AI";

app.post("/api/chat", async (req, res) => {
  try {
    const { message } = req.body;

    const response = await fetch(
      "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=" + API_KEY,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          contents: [ { parts: [ { text: message } ] } ]
        })
      }
    );

    if (!response.ok) {
      throw new Error("Erro API Google AI: " + response.status);
    }

    const data = await response.json();
    const reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || "Sem resposta";

    res.json({ reply });
  } catch (err) {
    res.status(500).json({ reply: "Erro no servidor: " + err.message });
  }
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => console.log("Servidor rodando na porta "+PORT));
```

---

## ðŸ“¦ Como usar
1. Crie uma pasta do projeto.
2. Dentro dela, coloque `index.html` e `server.js`.
3. Instale dependÃªncias:
   ```bash
   npm init -y
   npm install express cors
   ```
4. Rode o backend:
   ```bash
   node server.js
   ```
5. Abra `http://localhost:3000/index.html` â†’ jÃ¡ vai funcionar o chat com Gemini.

---

ðŸ‘‰ Se quiser, eu posso gerar o **ZIP pronto** com esses arquivos para vocÃª baixar direto. Quer que eu prepare? 
